(this["webpackJsonpmeme-post"]=this["webpackJsonpmeme-post"]||[]).push([[0],{47:function(e,t,a){e.exports=a(82)},62:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l);var o=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light sticky-top"},r.a.createElement("a",{className:"navbar-brand",href:"/homepage"},"Meme-Post"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/homepage"},"Home ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/create"},"Create")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/liked"},"Liked")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"/profile",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Account"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"/signup"},"Sign-Up"),r.a.createElement("a",{className:"dropdown-item",href:"/login"},"Login"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/profile"},"Profile")))))},s=a(9),m=a(7),u=a(10),i=a.n(u),p=a(18),d=a(6),E=a(84),f=a(88),b=a(86),v=a(87),g=a(85),h=a(42),w=(a(53),h.a.initializeApp({apiKey:"AIzaSyAxha5URmgTCxb_2FzKgl4ErM_XO7YQtxg",authDomain:"meme-post-dev.firebaseapp.com",databaseURL:"https://meme-post-dev-default-rtdb.firebaseio.com",projectId:"meme-post-dev",storageBucket:"meme-post-dev.appspot.com",messagingSenderId:"937027276683",appId:"1:937027276683:web:dcef14bb0690e45a09298e"})),j=w.auth(),x=r.a.createContext();function O(){return Object(n.useContext)(x)}function y(e){var t=e.children,a=Object(n.useState)(),l=Object(d.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!0),m=Object(d.a)(s,2),u=m[0],i=m[1];Object(n.useEffect)((function(){return j.onAuthStateChanged((function(e){o(e),i(!1)}))}),[]);var p={currentUser:c,signup:function(e,t){return j.createUserWithEmailAndPassword(e,t)},login:function(e,t){return j.signInWithEmailAndPassword(e,t)},logout:function(){return j.signOut()},resetPassword:function(e){return j.sendPasswordResetEmail(e)},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)}};return r.a.createElement(x.Provider,{value:p},!u&&t)}var N=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),l=O().signup,c=Object(n.useState)(""),o=Object(d.a)(c,2),u=o[0],h=o[1],w=Object(n.useState)(!1),j=Object(d.a)(w,2),x=j[0],y=j[1],N=Object(m.g)();function k(){return(k=Object(p.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){n.next=3;break}return n.abrupt("return",h("Passwords do not match"));case 3:return n.prev=3,h(""),y(!0),n.next=8,l(e.current.value,t.current.value);case 8:N.push("/homepage"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),h("Failed to create an account");case 14:y(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(f.a,null,r.a.createElement(f.a.Body,null,r.a.createElement("h2",{className:"text-center md-4"},"Sign Up"),u&&r.a.createElement(b.a,{variant:"danger"},u),r.a.createElement(v.a,{onSubmit:function(e){return k.apply(this,arguments)}},r.a.createElement(v.a.Group,{id:"email"},r.a.createElement(v.a.Label,null,"Email"),r.a.createElement(v.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(v.a.Group,{id:"password"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(v.a.Group,{id:"password-confirm"},r.a.createElement(v.a.Label,null,"Re-Enter Password"),r.a.createElement(v.a.Control,{type:"password",ref:a,required:!0})),r.a.createElement(g.a,{disabled:x,className:"w-100",type:"submit"},"Sign Up")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Already have an account? ",r.a.createElement(s.b,{to:"/login"},"Log In")))))};var k=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=O().login,l=Object(n.useState)(""),c=Object(d.a)(l,2),o=c[0],u=c[1],h=Object(n.useState)(!1),w=Object(d.a)(h,2),j=w[0],x=w[1],y=Object(m.g)();function N(){return(N=Object(p.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,u(""),x(!0),n.next=6,a(e.current.value,t.current.value);case 6:y.push("/homepage"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),u("Failed to sign in");case 12:x(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(f.a,null,r.a.createElement(f.a.Body,null,r.a.createElement("h2",{className:"text-center md-4"},"Log In"),o&&r.a.createElement(b.a,{variant:"danger"},o),r.a.createElement(v.a,{onSubmit:function(e){return N.apply(this,arguments)}},r.a.createElement(v.a.Group,{id:"email"},r.a.createElement(v.a.Label,null,"Email"),r.a.createElement(v.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(v.a.Group,{id:"password"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(g.a,{disabled:j,className:"w-100",type:"submit"},"Log In")),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(s.b,{to:"/forgot-password"},"Forgot Password?")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Dont have an account? ",r.a.createElement(s.b,{to:"/signup"},"Sign Up")))))};function S(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],l=t[1],c=O(),o=c.currentUser,u=c.logout,v=Object(m.g)();function h(){return(h=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(""),e.prev=1,e.next=4,u();case 4:v.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),l("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(E.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(f.a,null,r.a.createElement(f.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Profile"),a&&r.a.createElement(b.a,{variant:"danger"},a),r.a.createElement("strong",null,"Email: ")," ",o.email,r.a.createElement(s.b,{to:"/update_profile",className:"btn btn-primary w-100 mt-3"},"Update Profile"))),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(g.a,{variant:"primary",onClick:function(){return h.apply(this,arguments)}},"Log Out")))))}function C(){var e=Object(n.useRef)(),t=O().resetPassword,a=Object(n.useState)(""),l=Object(d.a)(a,2),c=l[0],o=l[1],m=Object(n.useState)(""),u=Object(d.a)(m,2),h=u[0],w=u[1],j=Object(n.useState)(!1),x=Object(d.a)(j,2),y=x[0],N=x[1];function k(){return(k=Object(p.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,w(""),o(""),N(!0),a.next=7,t(e.current.value);case 7:w("Check you inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),o("Failed to reset password");case 13:N(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(f.a,null,r.a.createElement(f.a.Body,null,r.a.createElement("h2",{className:"text-center md-4"},"Reset Password"),c&&r.a.createElement(b.a,{variant:"danger"},c),h&&r.a.createElement(b.a,{variant:"success"},h),r.a.createElement(v.a,{onSubmit:function(e){return k.apply(this,arguments)}},r.a.createElement(v.a.Group,{id:"email"},r.a.createElement(v.a.Label,null,"Email"),r.a.createElement(v.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(g.a,{disabled:y,className:"w-100",type:"submit"},"Reset Password")),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(s.b,{to:"/forgot-password"},"Forgot Password?")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Dont have an account? ",r.a.createElement(s.b,{to:"/signup"},"Sign Up")))))}function P(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),l=O(),c=l.currentUser,o=l.updatePassword,u=l.updateEmail,i=Object(n.useState)(""),p=Object(d.a)(i,2),h=p[0],w=p[1],j=Object(n.useState)(!1),x=Object(d.a)(j,2),y=x[0],N=x[1],k=Object(m.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(f.a,null,r.a.createElement(f.a.Body,null,r.a.createElement("h2",{className:"text-center md-4"},"Update Profile"),h&&r.a.createElement(b.a,{variant:"danger"},h),r.a.createElement(v.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==a.current.value)return w("Passwords do not match");var r=[];N(!0),w(""),e.current.value!==c.email&&r.push(u(e.current.value)),t.current.value&&r.push(o(t.current.value)),Promise.all(r).then((function(){k.push("/profile")})).catch((function(){w("Failed to update profile")})).finally((function(){N(!1)}))}},r.a.createElement(v.a.Group,{id:"email"},r.a.createElement(v.a.Label,null,"Email"),r.a.createElement(v.a.Control,{type:"email",ref:e,required:!0,defaultValue:c.email})),r.a.createElement(v.a.Group,{id:"password"},r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})),r.a.createElement(v.a.Group,{id:"password-confirm"},r.a.createElement(v.a.Label,null,"Re-Enter Password"),r.a.createElement(v.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})),r.a.createElement(g.a,{disabled:y,className:"w-100",type:"submit"},"Update")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},r.a.createElement(s.b,{to:"/profile"},"Cancle")))))}var L=a(46);function R(e){var t=e.component,a=Object(L.a)(e,["component"]),n=O().currentUser;return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/login"})}}))}function U(){return r.a.createElement("h1",null,"HomePage")}a(62);function F(e){var t=e.template,a=e.onCLick;return r.a.createElement("img",{className:"meme-img ml-2 mt-2",key:t.id,src:t.url,alt:t.name,onClick:a})}var G=a(21),D=a.n(G),I=function(e){return console.log(e),D.a.post("/api/createdMeme",e)},A=function(e){return"?"+Object.entries(e).map((function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n)})).join("&")};function B(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),o=Object(d.a)(c,2),s=o[0],m=o[1],u=Object(n.useState)(""),f=Object(d.a)(u,2),b=f[0],h=f[1],w=Object(n.useState)(""),j=Object(d.a)(w,2),x=j[0],y=j[1],N=Object(n.useState)(""),k=Object(d.a)(N,2),S=k[0],C=k[1],P=O().currentUser;function L(){return(L=Object(p.a)(i.a.mark((function e(t){var a,n,r,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("pressed"),a={template_id:s.id,text0:b,text1:x,username:"MemePost",password:"memePost001"},e.next=5,fetch("https://api.imgflip.com/caption_image".concat(A(a)));case 5:return n=e.sent,console.log(S),e.next=9,n.json();case 9:r=e.sent,console.log(r.data.url),l={user:P.email},console.log(l),S&&r&&l&&(c={title:S,meme:r.data.url,user:l.user},console.log(c),I(c).then((function(){return console.log("meme made")})).catch((function(e){return console.log(e)})));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json().then((function(e){return l(e.data.memes)}))}))}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Create a Meme"),r.a.createElement(E.a,{fluid:!0,className:"meme-display-container"},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{template:s}),r.a.createElement(v.a,{onSubmit:function(e){return L.apply(this,arguments)}},r.a.createElement(v.a.Group,{id:"title"},r.a.createElement(v.a.Label,null,"Title"),r.a.createElement(v.a.Control,{placeholder:"Title of Meme",onChange:function(e){return C(e.target.value)},value:S})),r.a.createElement(v.a.Group,{id:"top-text"},r.a.createElement(v.a.Label,null,"Top-Text"),r.a.createElement(v.a.Control,{placeholder:"top-text",onChange:function(e){return h(e.target.value)},value:b})),r.a.createElement(v.a.Group,{id:"bottom-text"},r.a.createElement(v.a.Label,null,"Bottom-Text"),r.a.createElement(v.a.Control,{placeholder:"bottom-text",onChange:function(e){return y(e.target.value)},value:x})),r.a.createElement(g.a,{className:"btn btn-primary",type:"submit"},"Create Meme"))),!s&&a.map((function(e){return r.a.createElement("img",{className:"meme-img ml-2 mt-2",key:e.id,src:e.url,alt:e.name,onClick:function(){m(e)}})}))))}function M(){return r.a.createElement("h1",null,"Your Liked Memes")}var q=function(){return r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(y,null,r.a.createElement(o,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/signup",component:N}),r.a.createElement(R,{exact:!0,path:"/profile",component:S}),r.a.createElement(m.b,{path:"/login",component:k}),r.a.createElement(m.b,{path:"/forgot-password",component:C}),r.a.createElement(m.b,{path:"/update_profile",component:P}),r.a.createElement(m.b,{path:"/homepage",component:U}),r.a.createElement(m.b,{path:"/create",component:B}),r.a.createElement(m.b,{path:"/liked",component:M})))))};a(81);c.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.fdfe6c86.chunk.js.map